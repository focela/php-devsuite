; PHP-FPM Configuration
; ---------------------
; This file defines global settings and pool configuration for PHP-FPM.

[global]
; Logging configuration
error_log = /proc/self/fd/2

; Do not run as a daemon (keeps process attached to terminal)
daemonize = no

[www]
; Logging
access.log = /proc/self/fd/2

; User and group settings (uncomment to enable custom user/group)
; user = app
; group = app

; Listening socket settings
listen = /sock/docker.sock
listen.owner = app
listen.group = app
listen.mode = 0660

; Process management settings
pm = dynamic
pm.max_children = 10
pm.start_servers = 4
pm.min_spare_servers = 2
pm.max_spare_servers = 6

; Environment settings
clear_env = no

; Ensure worker stdout and stderr are sent to the main error log
catch_workers_output = yes

; Required for PHP-SPX profiler in FPM mode
process.dumpable = yes
